---
title: "【GitHub Copilot】AIコーディングの基本と私がOSS開発で得た実践テクニック紹介！"
emoji: "🐢"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [githubcopilot,vscode,vscode拡張機能,python]
published: false
---
AIがコードを書いてくれる画期的なツール、**GitHub Copilot**をご存知ですか？

私は2024年1月から使い始めましたが、驚くほど便利でした。
GitHub Copilotは、自然言語での指示やコードの一部を入力するだけで、目的のコードを生成してくれます。そして、エディタ上で即反映できるので、とてもスムーズです。さらに、AIが学習して、コーディングの環境に書き方を合わせてくれるので、コードのスタイルを統一できます。テストやドキュメント作成の自動化、エラーの修正などもできます。

:::message
TODO コードを最適化している写真や、生成している写真をパワポで作成して、貼り付ける。キャッチーな奴。
:::

GitHub Copilotのおかげで、私は個人のOSS開発にもチャレンジすることができました。コーディングスキルが向上しただけでなく、開発の効率や品質も高まりました。そして、何より、**楽しくコーディングでき、モノづくりに集中することができる**ようになりました！

このブログでは、**GitHub Copilotの基本**と、私のOSS開発で得た**実践テクニック**を紹介します。このブログを読んで、あなたもぜひGitHub Copilotの魅力を感じてみてください👍

#### ブログ対象者

このブログでは、次のような方を対象に分かりやすく説明します。

- GitHub Copilotがどのようなものか気になる方、試してみたい方
- 実際にGitHub Copilot使ってみたものの、どのように生かしたら良いか分からない方
- すでにGitHub Copilotを使っている方や、使いこなしたい方

なお、説明はVSCodeでディタ、Python言語を用いて行いますが、環境が準備できない、Pythonは普段使わないという方にも読みやすく、内容を理解できるような工夫をしています。

#### 得られる効果

このブログを読むことで、次のような効果が得られます。

- GitHub Copilotの基本機能を理解し、AIコーディングができるようになります。
- GitHub Copilotの応用、実践的なテクニックを得ることができます。
- GitHub Copilotの注意すべき点や問題点を理解することができます。

## GitHub Copilot

この章では、GitHub Copilotについて説明します。GitHub Copilotは、AIがコードを自動生成してくれる画期的なツールです。以下に、GitHub Copilotの機能の一覧と利点を示します。

### 機能一覧

GitHub Copilotには、多くの機能がありますが、その中でも代表的な機能の一部を以下に示します。

![func_list](/images/turtle-20240223-gitcopilot/func_list.png)
*GitHub Copilot機能一覧(代表例)*

コーディングに必要な要素がおさえられていることが分かります。
いかがでしょう。これらの機能を見て使いたくなってきたでしょうか？

### ChatGPTとの比較と利点

しかし、機能一覧を見て、こう感じた方もいるのではないでしょうか？

「無料版のChatGPTでも同じことできるのでは？」

ChatGPTは、お馴染みの方もいらっしゃるかもしれませんが、頼りになる対話型の生成AIです。
確かに、機能一覧で示した機能の一部は、ChatGPTでも行うことができます。
では、どのような違いがあるのでしょうか？ChatGPTとGitHub Copilotでプログラムを生成する際の手順を比較してみましょう。Python言語で「緑の円の中に、黄色い円を描画する」というプログラムを作成してみます。まずは、ChatGPTの手順を示します。

![coding_gpt](/images/turtle-20240223-gitcopilot/coding_gpt.png)
*ChatGPTによるプログラム作成手順*

このように**Web上のChatGPTサービスとエディタ間を行き来しながら**、手順を進めていきます。次にGitHub Copilotの手順を示します。

![coding_cop](/images/turtle-20240223-gitcopilot/coding_cop.png =550x)
*GitHub Copilotによるプログラム作成手順*

こちらは全ての手順が**エディタの中で完結**します。

今回は「指示したプログラムを作成する」というシンプルなケースです。しかし、実際の開発では、バグの修正、部分的な処理の追加、関数コメントの作成、テストの実施など行うことが多岐にわたります。Webブラウザとエディタを行き来する1回あたりの時間は僅かかもしれませんが、これが**積み重なると無視できない時間**になってきます。

また、GitHub Copilotは、環境やファイルからどの言語で記述したらよいか、自動で判断してくれますが、無料の対話型生成AIでは、このような環境を知るすべがありません。ですから「**Pythonでturtleを用いて**緑の円の中に、黄色い円を描画するプログラムを作成して」
というように、どの言語で、どのように作成するか、具体的に指示する必要があります。

GitHub Copilotは、AIが提示するコードの精度の高さなど多くの魅力がありますが、何よりも**エディタの中で全てが完結し、ストレスなく快適に開発ができる**、これが一番の魅力だと思います。

## 導入方法

GitHub Copilotは、**有償**（**学生ほか一部対象者は無料**）のツールです。利用するためには、アカウントの作成や契約、エディタ拡張機能のインストールが必要です。これらの方法について説明します。

なお、既に導入済みの方や、企業などの組織で利用される方（組織で提供される利用手順書等を参照いただくのが確実です）は、**この章をスキップ**して構いません。

この章は、**これから個人で使ってみようという方を対象**にします。
対象者が限られるので、デフォルトでは、説明の表示を閉じています。
必要に応じて「GitHub Copilotの導入方法」を各項目をクリックして、説明を開いてください。
::::message
**GitHub Copilotの導入方法**
:::details ① アカウント作成（クリックで開く）

### アカウント作成

GitHub Copilotの利用には、**GitHub**のアカウント作成が必要になります。既にGitHubアカウントを保持されている方は、スキップしてください。
ちなみに、GitHubは、web上にプログラムコードを保存し、バージョン管理やメンバで共有するためのサービスです。こちらも開発には無くてはならないものですから、まだの方は、この機会に個人のGitHubアカウントを作成しましょう。

1. GitHubのサイトにアクセスします。
   [https://github.com/](https://github.com/)
2. ページ右上のSign upをクリックします。
   ![hub_page](/images/turtle-20240223-gitcopilot/hub_page.png =400x)
3. メールアドレスやパスワードなど必要事項を入力します。
   ![hub_regist](/images/turtle-20240223-gitcopilot/hub_regist.png =400x)
4. メールが送られてきますので、必要な対応を行って、アカウント作成完了となります。

※ 入力画面は、2024年2月現在のものです。
※ 私は、途中まで入力していますが、実際の登録は行っていません。
　 個人が無料のアカウントを複数持つことは利用規約違反となるためです。
　 個人用、業務用(有償organization所属)をそれぞれ分けて使うのは問題ないようです。
　 (参考URL)[複数のGitHubアカウントを保持していいの？GitHubサポートに問い合わせてみた](https://www.timedia.co.jp/tech/20221025-tech/)
:::

:::details ② 有償プラン契約（クリックで開く）

### 有償プラン契約

GitHub Copilotの利用には料金がかかります。そのため、クレジットカードまたはPayPal(paypayではありません)を用いて、利用手続きを行う必要があります。本章ではこの手順を説明します。まず、利用料金については、次のようになっています。

| プラン   | 料金      | 備考                               |
|-------|---------|----------------------------------|
| 月額プラン | 10ドル / 月  |                                  |
| 年額プラン | 100ドル / 年 | 月あたり2ドル弱、年間で20ドル(2か月分)お得💰 |

(参考URL) [GitHub Copilot の課金について (公式)](https://docs.github.com/ja/billing/managing-billing-for-github-copilot/about-billing-for-github-copilot)

なお、期間限定で無料で利用する仕組みがありますので、以下に示します。

- **1か月の無料トライアル**
どのようなものだろう？と気になる方は、トライアルで**実際に触って確かめてみるのがオススメ**です。その際、作ってみたいもの、開発テーマなど軽く決めてから使うとより効果が実感できると思います。なお、1か月経過後は、**自動で課金されるので注意**してください。事前に解約申請をしても1か月間は使えますので、まず1か月だけという方は、早めに解約申請をしておくと安心です。
(参考URL) [GitHub Copilot 解約方法/手順を3分で解説！ (ブログ記事)](https://yakiimosan.com/github-copilot-cancellation/)
- **学生など無料利用プログラム**
学生、教師、メジャーなオープンソースプロジェクトのメンテナーは無料で利用できます。**学生**は、次のブログ記事が参考になりますので、ぜひチャレンジしてみてください。
(参考URL) [Github Education の申請方法 (ブログ記事)](https://zenn.dev/iizuka0000/articles/how-to-apply-for-github-education)

※上記の情報は、本ブログ執筆時点の2024年2月の情報に基づきます。

それでは、以下に登録・契約の手順を示します。

#### GitHub Copilot登録・契約手順

1. githubサイトにアクセスしてサインインします。
2. 画面右上のアイコンをクリックして、メニュー一覧を表示します。
![cop_kei1](/images/turtle-20240223-gitcopilot/cop_kei1.png =300x)
3. メニュー一覧からCopilotを選択します。
![cop_kei2](/images/turtle-20240223-gitcopilot/cop_kei2.png =200x)
4. 次の画面が表示されるので、プランを選択します。
選択したら、緑の「Get access to GitHub Copilot」ボタンを押します。
トライアルで始める場合は、月額プランを選択しておいた方が安心です。
![cop_kei3](/images/turtle-20240223-gitcopilot/cop_kei3.png)
5. 住所、支払い登録情報が無い場合、次のように住所や支払い情報の登録が求められますので、必要な項目を入力して、緑の「Save」や「Save payment infomation」ボタンを押します。
※既に登録情報がある場合、本画面は表示されず、次の手順6画面が表示されます。
![cop_kei4](/images/turtle-20240223-gitcopilot/cop_kei4.png)
6. 支払いの確認画面が表示されるので、内容に問題なければ、緑の「Submit」ボタンを押します。
![cop_kei5](/images/turtle-20240223-gitcopilot/cop_kei5.png =450x)
7. アカウントの設定画面が表示されますので、設定を行います。
それぞれの設定項目は次の通りです。なお、これらの設定は後から変更可能です。
![cop_kei6](/images/turtle-20240223-gitcopilot/cop_kei6.png =450x)

- **Suggestions matching public code**
GitHub CopilotがサジェストしようとしたコードがGitHub上の公開コードと一致した場合に、そのままサジェストするかどうかを設定する項目です。推奨設定はBlockです。
  - Allow
  公開コードと同じコードがサジェストされる可能性があります。
  - Block
  Copilotがアレンジしたコードがサジェストされます。
- **Allow GitHub to use my code snippets for product improvements**
自分のコードをGitHub Copilotの学習データとして利用させるかどうかの設定です。この設定は、個人の好みやプライバシーによって設定してください。
  - チェックを入れる
  自分のコードがGitHubに送信されます。送信時のプライバシーなどは保証されるようです。
  - チェックを外す
  送信されません。

8. 準備が整いましたのような画面が表示されます。
![cop_kei7](/images/turtle-20240223-gitcopilot/cop_kei7.png =300x)

以上で、GitHub Copilot登録・契約手順は完了です。
次の項目で拡張機能のインストールについて説明します。

:::

:::details ③ 拡張機能インストール（クリックで開く）

### 拡張機能インストール

GitHub Copilotを利用するためには、まずエディタが必要になります。エディタはVisual Studio Code(VSCode)、Visual Studio、JetBrains、Neovimに対応しています。
そして、このエディタにGitHub Copilotのアプリケーションを拡張機能としてインストールすることで、使えるようになります。今回は、VSCodeを用いて、拡張機能のインストール手順を示します。

1. VSCodeを開き、拡張機能タブで「GitHub Copilot」を検索して、インストールします。
GitHub Copilotをインストールすると「GitHub Copilot Chat」も自動で一緒にインストールされます。これら2つがAIコーディングに必要となります。
![cop_kei8](/images/turtle-20240223-gitcopilot/cop_kei8.png =250x)
インストールの仕方が分からない方は、以下のサイトの手順を参考にしてみてください。
(参考URL) [拡張機能：インストール方法 (ブログ記事)](https://zenn.dev/safubuki/articles/turtle-20240121-vscode#%E6%8B%A1%E5%BC%B5%E6%A9%9F%E8%83%BD%EF%BC%9A%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95)
※こちらは、以前私が書いた記事になります🐢

2. インストールすると右下の方にポップアップで「GitHub Copilotとの連携認証」が表示されるので、クリックして認証画面を開き、承認します。

以上で、全ての導入手順は完了です。お疲れさまでした🎉

:::
::::

## 基本的な使い方

この章では、GitHub Copilotの基本となる使い方を説明します。まず、GitHub Copilotの基本機能である以下の3つの機能を紹介します。

- **インラインチャット**
- **コードサジェスチョン**
- **チャット**

これらの使い方を、Pythonのプログラムを実際に作成しながら、説明してきます。
そして、**ショートカットキー**や具体的な指示を出すための**/(スラッシュ)コマンド**について、一覧を示し、必要なものはさらに詳細な説明を行います。

これらの内容を理解することで、GitHub Copilotを一通り扱うことができるようになります。

### 機能①：インラインチャット

インラインチャットとは、コードを書いているファイルの中でチャット機能を呼び出し、コードの生成や修正などを行う機能です。次のような開発シーンを想定して説明します。

1. プログラムのベースを新規作成
2. 部分的に処理を追加
3. 冗長な処理を修正

#### 1.プログラムのベースを新規作成

まず、ベースとなる「緑の円の中に、黄色い円を描画する」プログラムを新規作成します。

![cop_i_new](/images/turtle-20240223-gitcopilot/cop_i_new.gif =500x)
*処理の新規作成 gif動画*

pyファイルの中でインラインチャットが呼び出され、指示を行うことでプログラムが作成されました。以下に、行ったことを順に説明します。

1. pyファイル(circle.py)を作成します。
2. **Ctrl + I** (アイ) キーでインラインチャットを呼び出します。
コード上の✨**アイコン**をクリックでも、インラインチャットを呼び出すことができます。
![cop_i_star](/images/turtle-20240223-gitcopilot/cop_i_star.png)
*✨アイコン*
3. チャット欄に「緑の円の中に、黄色い円を描画するプログラムを作成して」と入力して、Enterキーを押します。
4. 候補となるプログラムが出力されるので、次の3つのボタンの中から1つを選択します。
![cop_i_btn](/images/turtle-20240223-gitcopilot/cop_i_btn.png)
*インラインチャット ボタン*
   - **Accept**：候補を受け入れて、処理を決定します
   - **Discard**:候補を受け入れず、処理を破棄します
   - **Regenerate**(矢印マーク)：別の候補を再度生成します
1. Acceptで処理を受け入れて、ファイルを保存します。

ちなみに、作成したブログラムは、実行すると以下のように期待する動作をします。
![cop_i_res](/images/turtle-20240223-gitcopilot/cop_i_res.png =350x)
*プログラム実行結果*

#### 2.部分的に処理を追加

ベースとなるプログラムに、さらに「赤い円を描画する」処理を追加します。

![cop_i_fix](/images/turtle-20240223-gitcopilot/cop_i_fix.gif =500x)
*処理の追加 gif動画*

赤い円を描画する処理が追加され、さらにメイン処理で描画処理を呼び出す箇所も追加されました。基本的な流れは`1.プログラムのベースを新規作成`と同じですが、**異なる点**があります。それは、インラインチャットを呼び出す前、**処理を追加する箇所にカーソルを移動**し、さらに**修正が必要なメイン処理も選択**している点です。こうすることで、必要な箇所に、必要な処理を追加することができます。

#### 3.冗長な処理を修正

円を描画するいくつかの関数ができましたが、これらは汎用性がなく冗長です。関数を一つにまとめて、汎用的でシンプルな処理に修正します。

![cop_i_imp](/images/turtle-20240223-gitcopilot/cop_i_imp.gif =500x)
*処理の修正 gif動画*

複数の円を描画する処理が削除され、代わりに円を描画する共通関数が追加されました。メイン処理のコール部分も、共通関数でコールされるようになりました。
今回は、**全体的に修正が必要**なので、`2.部分的に処理を追加`ように**部分的な選択ではなく、全てを選択**してから、インラインチャットで指示を行います。

このように、インラインチャットで複数回指示をするだけで、円を描画するシンプルなプログラムを作成することができました。

### 機能②：コードサジェスチョン

コードサジェスチョンとは、コードを書いているときに、1行または複数行の最適なコードを提案（サジェスト）する機能です。これと似たような機能は、今までもありましたが、GitHub Copilotが優れているのは**精度の高さ**です。利用者のコーディング環境を学習をして、**コードの記述の仕方を合わせて**くれます。また、提案するコードも**期待するコードである割合が非常に高い**です。
それでは「赤い円を異なる箇所に3つ描画する処理」の追加をコードサジェスチョンで行ってみましょう。

![cop_s_1](/images/turtle-20240223-gitcopilot/cop_s_1.gif =500x)
*コードサジェスチョン gif動画*

このように、行を移動すると次から次にコードの候補が提案されます。以下に、行ったことを順に説明します。

1. コメントで実行したい処理を記述します。
2. 次の行に移動すると、薄い色の文字でコードの候補が表示されます。
3. **TABキー**を押すと候補を確定します。
4. 同様にほかにも対応が必要な行に移動すると、同様に薄い色の文字でコードの候補が表示されます。
5. TABキーで同様に候補を確定します。


なお、薄い文字の候補が期待する内容ではなかった場合、**Ctrl + Enter キー**を入力することで、複数の別の提案一覧を表示することができます。期待する候補があれば **Accept suggestion X ボタン**を押して、選択した候補を確定します。

![cop_c_list](/images/turtle-20240223-gitcopilot/cop_c_list.png =500x)
*Ctrl + Enterによる提案一覧*

今回は、コメントを記載して、分かりやすくサジェスチョンさせましたが、微修正を行うときなどコメントを記載せずとも、期待する候補の提案も行ってくれるので、大変作業が捗ります。

### 機能③：チャット

チャットは、自然言語により対話する機能であり、コードの生成や関数の説明、その他疑問点に関する質問などを行うことができます。ChatGPTと同じような対話を**エディタ上で行うことができ**、特にコーディングやソフトウェア開発環境について**優れた能力を発揮**します。こちらについては、/(スラッシュ)コマンドの章でも詳しく扱います。

![cop_c_1](/images/turtle-20240223-gitcopilot/cop_c_1.gif)
*チャット gif動画*

機能①の説明で行った円を描画するプログラムの作成を、チャット機能でも同じように行うことができました。なお、チャット機能は、**エディタ左側のチャットタブ**から行うことができます。

![cop_c_0](/images/turtle-20240223-gitcopilot/cop_c_0.png =350x)
*チャット機能タブ*

このように対話によって、プログラムを作り上げていくことができます。作成したコードは、**Insert at Cursor ボタン**を押すことで、ファイルに簡単に反映することができます。

![cop_c_2](/images/turtle-20240223-gitcopilot/cop_c_2.png =350x)
*Insert at Cursor ボタン*

なお、チャット機能の注意点として、プログラミングやコーディングに関する内容以外は受け付けてくれないことです。オススメの観光地は別のAIに質問をお願いします🙇‍♂️

![cop_c_kanko](/images/turtle-20240223-gitcopilot/cop_c_kanko.png =450x)
*オススメの観光地は教えてくれない*

このように、コード生成をサポートしてもらったり、困ったことを質問して解決したいときなどに、エディタ上でサッと素早く頼れる存在です。

### ショートカットキー

GitHub Copilotでは、以下のショートカットキーを扱うことができます。なお、詳細な使い方は、本章の機能①～③の説明で動画を交えて説明していますので、そちらをご参照ください。以下に、ショートカットキーの一覧と内容を示します。

| ショートカットキー     | 内容                                                                 | よく使う(★) |
|---------------|--------------------------------------------------------------------|---------|
| Ctrl + I (アイ) | **インラインチャットを起動する**<br/>コーディングしているファイルの中で、<br/>チャットを起動し、コードの生成や質問ができる   | ★★★     |
| TAB           | **コードサジェスチョン（提案）を受け入れる**<br/>コーディングしているときに、<br/>提案してくるコードの案を受け入れて確定する  | ★★★     |
| ESC           | **コードサジェスチョン（提案）を拒否する**<br/>コーディングしているときに、<br/>提案してくるコードの案を拒否する        | ★★★     |
| Ctrl + Enter  | **コードサジェスチョン（提案）の一覧を表示する**<br/>コーディングしているときに、<br/>提案してくるコードの別案の一覧を表示する | ★★☆     |
| Alt + ]       | **次のコードサジェスチョン（提案）を表示する**                                              | ★☆☆（※）  |
| Alt + [       | **前のコードサジェスチョン（提案）を表示する**                                              | ★☆☆（※）  |

(参考URL) [GitHub Copilot の概要 (公式)](https://docs.github.com/ja/copilot/using-github-copilot/getting-started-with-github-copilot)
(※) 「次/以前の提案を表示する」は、環境により動作しない可能性があります。

### /(スラッシュ)コマンド

GitHub Copilotのチャット機能で使用する`/fix` や `/explain` など、/(スラッシュ)コマンドについて説明します。これらのコマンドは、コードを修正したい、コードの説明をしてほしいというシーンで**具体的に目的を示して、指示する**際に使用します。

#### 一覧

:::message
TODO ここから対応
コマンド
内容
よく使う(★)
★が3つのやつは、詳細に使い方で解説する
:::

#### 使い方


これらのコマンドは使わなくても、AIが指示の内容を解釈して、目的の動作をしてくれますが、まれに**関数の修正の指示をしているのに、関数の説明をするケース**があります。**指示の意図を明確にし、効率的に利用するために必要**ですので、ぜひ覚えておきましょう。

## 実践的テクニック


## 気になるポイント


## まとめ

